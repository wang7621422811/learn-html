<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>列表渲染</title>
</head>
<body>
<!--
    1. 列表显示
        数组: v-for / index
        对象: v-for / key
    2.列表的更新显示
        删除 item
        替换 item
-->

    <div id="demo">
        <h2>测试 v-for 遍历数组</h2>
        <ul>
            <li v-for="(p,index) in persons" :key="index">
                {{index}} -- {{p.name}} -- {{p.age}}
                --- <button @click="deleteP(index)">删除</button>
                --- <button @click="updateP(index,{name:'Car',age:20})">更新</button>
            </li>
        </ul>

        <h2>测试 v-for 遍历对象</h2>


        <ul>
            <li v-for="(value,key) in persons[1]">
                {{value}} -- {{key}}
            </li>
        </ul>
    </div>
</body>
<script src="../js/vue.js"></script>
<script>
    new Vue({
        el: '#demo',
        data: {
            persons: [
                //vue本身指示见识了persons的改变，没有监视数组内部的数据的改变
                {name: 'Tom', age: 18},
                {name: 'Jack', age: 19},
                {name: 'Bob', age: 28},
                {name: 'Rose', age: 20}
            ]
        },
        methods: {
            deleteP(index) {
                //删除persons中指定index的p
                this.persons.splice(index,1)
            },
            updateP(index,newP) {
                //this.persons[index] = newP
                //this.persons = []
                this.persons.splice(index,1,newP)
            }
        }
    })
</script>
</html>